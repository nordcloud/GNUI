import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";
import { Input, Label, Description, Upload } from ".";
import { GnuiContainer } from "../container";
import { Button } from "../button";
import { Spacer } from "../spacer";
import { InputSearch } from "./InputSearch.tsx";
import { InputPassword } from "./InputPassword.tsx";

<Meta title="Forms/Input" component={Input} />

# Input

> Inputs type defaults to `text`.

<Canvas>
  <Story name="input">
    <Input name="input" placeholder="Placeholder" title="Title" />
  </Story>
</Canvas>

## Input properties

|      properties | required | type                                         | description                           |
| --------------: | :------: | :------------------------------------------- | :------------------------------------ |
|            name |   true   | string                                       |                                       |
|            type |  false   | string                                       | default: `text`                       |
|     placeholder |  false   | string                                       | Placeholder text inside input element |
|           title |  false   | string                                       |                                       |
|        disabled |  false   | boolean                                      |                                       |
|          status |  false   | <code>`success`</code>, <code>`error`</code> |                                       |
| showClearButton |  false   | boolean                                      |                                       |
|         onClear |  false   | <code>`() => void`</code>                    |                                       |

## Label properties

| properties | required | type   | description |
| ---------: | :------: | :----- | :---------- |
|       name |   true   | string |             |

### name

> `name`: `string`

<Canvas>
  <Story name="name">
    <Input name="Thats my name" title="That's my title" />
  </Story>
</Canvas>

### type

> `type`: `string`

For now it works good for two types: default `text` and `search`. The second one displays an icon before text. **TBC**

<Canvas>
  <Story name="type">
    <Input
      name="search-input"
      placeholder="Search input"
      type="search"
      title="Search input"
    />
  </Story>
</Canvas>

### placeholder

> `placeholder`: `string`

Placeholder text inside input element

### disabled

> `disabled`: `boolean`

<Canvas>
  <Story name="disabled">
    <Input name="disabled-input" placeholder="Disabled input" disabled />
  </Story>
</Canvas>

### required

> `required`: `boolean`

<Canvas>
  <Story name="required">
    <>
      <Label name="Label" htmlFor="required-id" required />
      <Input
        name="required-input"
        id="required-id"
        placeholder="Required input"
      />
    </>
  </Story>
</Canvas>

### small

<Canvas>
  <Story name="small">
    <>
      <Label name="Label" htmlFor="small-id" required />
      <Input name="required-input" id="small-id" placeholder="Small" small />
    </>
  </Story>
</Canvas>

### upload

<Canvas>
  <Story name="upload">
    <>
      <Upload name="upload" placeholder="Select a file to upload" />
    </>
  </Story>
</Canvas>

### icon

<Canvas>
  <Story name="icon">
    <>
      <Label name="Label" htmlFor="icon-id" required />
      <Input name="required-input" id="icon-id" placeholder="" icon="sidebar" />
    </>
  </Story>
</Canvas>

### status

> `status`: `success | error`

<Canvas>
  <Story name="status">
    {() => {
      const [status, setStatus] = React.useState("success");
      return (
        <GnuiContainer>
          <GnuiContainer>
            <Input
              name="validation-input"
              value={status === "success" ? "Success!" : "Error!"}
              readOnly
              status={status}
            />
          </GnuiContainer>
          <Spacer height="2rem" />
          <GnuiContainer>
            <Button
              size="small"
              color={status === "error" ? "danger" : "success"}
              onClick={() =>
                setStatus(status === "danger" ? "success" : "danger")
              }
            >
              Change status
            </Button>
          </GnuiContainer>
        </GnuiContainer>
      );
    }}
  </Story>
</Canvas>

## Label and description

> You can add `Label` before `Input` and `Description` after it. Labels name is what exactly will be displayed as a text above `Input`.

<Canvas>
  <Story name="label & description">
    <GnuiContainer>
      <Label name="Label" htmlFor="description-id" />
      <Input
        name="labeled-input"
        id="description-id"
        placeholder="Labeled input"
      />
      <Description>Inputs description</Description>
    </GnuiContainer>
  </Story>
</Canvas>

### clear

<Canvas>
  <Story name="clear">
    <>
      <Label name="Label" htmlFor="clear-id" required />
      <Input
        name="required-input"
        id="clear-id"
        placeholder=""
        icon="sidebar"
        name="testName"
        showClearButton
        onClick={() => alert("click")}
        onClear={() => alert("clear")}
      />
    </>
  </Story>
</Canvas>

### password

<Canvas>
  <Story name="password">
    <>
      <InputPassword
        name="required-input"
        id="password"
        name="password"
        value="password123"
      />
    </>
  </Story>
</Canvas>

### search

<Canvas>
  <Story name="search">
    <>
      <InputSearch
        placeholder="Search"
        onSearch={() => alert("search")}
        name="search"
      />
    </>
  </Story>
</Canvas>
