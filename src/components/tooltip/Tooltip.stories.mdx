import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { Tooltip } from ".";
import { Button } from "../button";
import { Text } from "../text";
import { useDisclosure } from "../../hooks";

<Meta title="Components/Tooltip" component={Tooltip} />

# Tooltip

## Properties

> - `placement`: `top | bottom | right | left | top-start | top-end | bottom-start | bottom-end | right-start | right-end | left-start | left-end` > **optional** relative placement of tooltip compared to parent element, defaults to `top`
> - `status`: `danger | warning | success | notification` **optional** background color of tooltip
> - `offset`: `number` **optional** offset is the distance from trigger to tooltip in pxs, defaults to `10`
> - `showArrow`: `boolean` **optional** show tooltip arrow, defaults to `true`
> - `openDelay`: `number` **optional** delay time in milliseconds for opening of tooltip, defaults to `0`
> - `closeDelay`: `number` **optional** delay time in milliseconds for closing of tooltip, defaults to `0`
> - `open`: `boolean` **optional** if this parameter is present - tooltip will be controlled instead of uncontrolled
> - `onOpenChange`: `(state: boolean) => void` **optional** fires on tooltip state change

## Placement

> Tooltip positions itself based on `placement` prop. If for any reasons (i.e. missing free space in window or frame) tooltip is not able to position itself in desired position, it will flip sides preferring to be on top.

<Canvas>
  <Story name="Placement">
    <div style={{ display: "flex", justifyContent: "center" }}>
      <div
        style={{
          display: "grid",
          gridTemplateColumns: "repeat(1fr, 3)",
          gap: "1px",
          gridTemplate: `
          "top-start top top-end"
          "left-start . right-start"
          "left . right"
          "left-end . right-end"
          "bottom-start bottom bottom-end"
          `,
        }}
      >
        <div style={{ gridArea: "top-start" }}>
          <Tooltip placement="top-start">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">top-start</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "top" }}>
          <Tooltip placement="top">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">top</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "top-end" }}>
          <Tooltip placement="top-end">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">top-end</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "left-start" }}>
          <Tooltip placement="left-start">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">left-start</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "right-start" }}>
          <Tooltip placement="right-start">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">right-start</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "left" }}>
          <Tooltip placement="left">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">left</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "right" }}>
          <Tooltip placement="right">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">right</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "left-end" }}>
          <Tooltip placement="left-end">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">left-end</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "right-end" }}>
          <Tooltip placement="right-end">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">right-end</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "bottom-start" }}>
          <Tooltip placement="bottom-start">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">bottom-start</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "bottom" }}>
          <Tooltip placement="bottom">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">bottom</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
        <div style={{ gridArea: "bottom-end" }}>
          <Tooltip placement="bottom-end">
            <Tooltip.trigger>
              <div
                style={{
                  height: "3rem",
                  width: "7rem",
                  background: "#3498db",
                  display: "flex",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text mb="0">bottom-end</Text>
              </div>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
              <br />
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
        </div>
      </div>
    </div>
  </Story>
</Canvas>

## Status

<Canvas>
  <Story name="Status">
    <div style={{ display: "flex", justifyContent: "center", gap: "1rem" }}>
      <Tooltip status="success">
        <Tooltip.trigger>
          <Button color="success">Success</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip status="danger">
        <Tooltip.trigger>
          <Button color="danger">Danger</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip status="warning">
        <Tooltip.trigger>
          <Button color="warning">Warning</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip status="notification">
        <Tooltip.trigger>
          <Button color="notification">Notification</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
    </div>
  </Story>
</Canvas>

## Offset

<Canvas>
  <Story name="Offset">
    <div style={{ display: "flex", justifyContent: "center", gap: "1rem" }}>
      <Tooltip>
        <Tooltip.trigger>
          <Button>I have default offset</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip offset={30}>
        <Tooltip.trigger>
          <Button>I have offset of 30px</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip offset={50}>
        <Tooltip.trigger>
          <Button>I have offset of 50px</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
    </div>
  </Story>
</Canvas>

## Hide Arrow

<Canvas>
  <Story name="Hide arrow">
    <div style={{ display: "flex", justifyContent: "center", gap: "1rem" }}>
      <Tooltip showArrow={false}>
        <Tooltip.trigger>
          <Button>I'm arrowless</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip>
        <Tooltip.trigger>
          <Button>I have stylish arrow!</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
    </div>
  </Story>
</Canvas>

## Delays

<Canvas>
  <Story name="Delays">
    <div style={{ display: "flex", justifyContent: "center", gap: "1rem" }}>
      <Tooltip openDelay={1000}>
        <Tooltip.trigger>
          <Button>My tooltip will open after 1s</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip closeDelay={1000}>
        <Tooltip.trigger>
          <Button>My tooltip will close after 1s</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
      <Tooltip closeDelay={1000} openDelay={1000}>
        <Tooltip.trigger>
          <Button>I have both delays</Button>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
    </div>
  </Story>
</Canvas>

## Misc

### Usage over inline elements

<Canvas>
  <Story name="Inline Tooltip">
    <span style={{ color: "black" }}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit.{" "}
      <Tooltip>
        <Tooltip.trigger>
          <span style={{ color: "#3498db" }}>Vestibulum</span>
        </Tooltip.trigger>
        <Tooltip.content>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>{" "}
      sollicitudin.
    </span>
  </Story>
</Canvas>

### Controlled Tooltip

> It's possible to control tooltip programmatically.

<Canvas>
  <Story name="Controlled Tooltip">
    {() => {
      const { isOpen, toggle } = useDisclosure();
      return (
        <div style={{ display: "flex", justifyContent: "center", gap: "5rem" }}>
          <Tooltip isOpen={isOpen}>
            <Tooltip.trigger>
              <Button disabled>Tooltip will appear here</Button>
            </Tooltip.trigger>
            <Tooltip.content>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit.
              Vestibulum sollicitudin.
            </Tooltip.content>
          </Tooltip>
          <Button onClick={toggle}>Click me!</Button>
        </div>
      );
    }}
  </Story>
</Canvas>

### Styling Tooltip

> It's possible to apply styles to tooltip either by adding `css` or `$style` (notice `$`) to `Tooltip.content`. Styles will be applied to Tooltip container.
> Applying styles to arrow is possible by `css` property and targeting `svg`, or by using `$arrowProps` (once again, notice `$`). <br/>
> !!!BEWARE!!! - `style` won't work as we need to pass transient prop to `styled-components`.

<Canvas>
  <Story name="Styling Tooltip">
    <div style={{ display: "flex", justifyContent: "center" }}>
      <Tooltip>
        <Tooltip.trigger>
          <Button>I have stylish tooltip!</Button>
        </Tooltip.trigger>
        <Tooltip.content
          $style={{
            maxWidth: "40rem",
            background:
              "linear-gradient(90deg, rgba(34,193,195,1) 0%, rgba(92,141,189,1) 21%, rgba(253,187,45,1) 51%, rgba(253,45,224,1) 73%)",
          }}
          $arrowProps={{ fill: "pink" }}
        >
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum
          sollicitudin.
        </Tooltip.content>
      </Tooltip>
    </div>
  </Story>
</Canvas>
