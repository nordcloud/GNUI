import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { Dropdown } from ".";
import { GnuiContainer } from "../container";
import { Spacer } from "../spacer";
import { Text } from "../text";

<Meta title="Forms/Dropdown" component={Dropdown} />

# Dropdown

> Please take a look at props to understand correctly how `Dropdown` actually works. It was build to specifically work with [React Hooks](https://reactjs.org/docs/hooks-intro.html).

## Dropdown properties

|                     properties | required | type                                     | description                                  |
| -----------------------------: | :------: | :--------------------------------------- | :------------------------------------------- |
|                           name |   true   | string                                   |                                              |
|                        options |   true   | `Array<any>`                             |                                              |
|                       onChange |   true   | `(e: any) => void`                       | taken from Reacts `useState()`               |
|                          width |  false   | string                                   | default: `100%`                              |
|                          value |  false   | <code>string</code>, <code>number</code> | taken from Reacts `useState()`               |
|                          title |  false   | string                                   |                                              |
| minNumOfOptionsToShowSearchBox |  false   | number                                   | minimum number of options to show search box |
|                        onClear |  false   | `() => void`                             | taken from Reacts `useState()`               |
|                           size |  false   | <code>sm</code>,<code>xs</code>          |                                              |

## dropdown with search

<Canvas>
  <Story name="dropdown">
    {() => {
      const options = [
        { value: "test", label: "Option 1" },
        { value: "Option 2" },
        "Option 3",
        "Option 4",
      ];
      const [value, setValue] = React.useState("");
      const [value2, setValue2] = React.useState("");
      return (
        <GnuiContainer>
          <Dropdown
            name="Select an option"
            options={options}
            value={value}
            width="15rem"
            minNumOfOptionsToShowSearchBox={4}
            onChange={(val) => setValue(val)}
            title="Example title"
          />
          <Text>
            Your choice:{" "}
            <Text tag="span" weight="medium">
              {!value ? "nothing" : value}
            </Text>
          </Text>
          <Spacer height="8rem" />
        </GnuiContainer>
      );
    }}
  </Story>
</Canvas>

## dropdown without search

<Canvas>
  <Story name="dropdown without search">
    {() => {
      const options = [
        { value: "test", label: "Option 1" },
        { value: "Option 2" },
        "Option 3 with very long name that should be wrapped as option and shortened when selected",
        "Option 4",
      ];
      const [value, setValue] = React.useState("");
      const [value2, setValue2] = React.useState("");
      return (
        <GnuiContainer>
          <Dropdown
            name="Select an option"
            options={options}
            value={value2}
            minNumOfOptionsToShowSearchBox={10}
            width="15rem"
            onChange={(val) => setValue2(val)}
            onClear={() => setValue2("")}
            title="Example title clear option"
          />
          <Text>
            Your choice:{" "}
            <Text tag="span" weight="medium">
              {!value2 ? "nothing" : value2}
            </Text>
          </Text>
          <Spacer height="8rem" />
        </GnuiContainer>
      );
    }}
  </Story>
</Canvas>

## dropdown other sizes

<Canvas>
  <Story name="dropdown other sizes">
    {() => {
      const options = [
        { value: "test", label: "Option 1" },
        { value: "Option 2" },
        "Option 3 with very long name that should be wrapped as option and shortened when selected",
        "Option 4",
      ];
      const [value, setValue] = React.useState("");
      const [value2, setValue2] = React.useState("");
      return (
        <GnuiContainer>
          <Text mb="0.25rem">Size sm:</Text>
          <Dropdown
            name="Select an option"
            options={options}
            value={value2}
            minNumOfOptionsToShowSearchBox={10}
            width="15rem"
            onChange={(val) => setValue2(val)}
            onClear={() => setValue2("")}
            title="Example title clear option"
            size="sm"
          />
          <Text mb="0.25rem" mt="1rem">
            Size xs:
          </Text>
          <Dropdown
            name="Select an option"
            options={options}
            value={value}
            minNumOfOptionsToShowSearchBox={10}
            width="15rem"
            onChange={(val) => setValue(val)}
            onClear={() => setValue("")}
            title="Example title clear option"
            size="xs"
          />
          <Spacer height="8rem" />
        </GnuiContainer>
      );
    }}
  </Story>
</Canvas>
