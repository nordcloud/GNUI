import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";
import { Grid, Row, Column } from "../components/grid";
import { Text, Code } from "../components/text";
import theme from "../theme";

<Meta title="Layout/Grid" component={Grid} subcomponents={(Row, Column)} />

# Grid

Grid includes three components: `Grid`, `Row`, `Column`.

> By default `Row` divides available space between all columns equally.

<Preview>
  <Story name="basic">
    {() => {
      const styledCol = {
        background: theme.colors.warning,
        textAlign: "center",
        borderRadius: theme.radius.default,
      };
      return (
        <Grid>
          <Row>
            <Column style={styledCol}>
              <Text>auto</Text>
            </Column>
            <Column style={styledCol}>
              <Text>auto</Text>
            </Column>
            <Column style={styledCol}>
              <Text>auto</Text>
            </Column>
          </Row>
        </Grid>
      );
    }}
  </Story>
</Preview>

## Props

- `size`: `Array<{[breakpoint: string]: number}>` | `number` _optional_
- `padding`: `Array<string>` | `number` _optional_
- `margin`: `Array<string>` | `number` _optional_

### `SIZE`

`Column`s takes `size` as a prop. Size can be described in few ways:

- `number`: between 1-12
- `Array<{[breakpoint: string]: number}>`: `{xs?: number, sm?: number, md?: numder, lg?: number, xl?: number, xxl?: number}`

> `number`

<Preview>
  <Story name="size/number">
    {() => {
      const numberedColumns = {
        background: theme.colors.notification,
        textAlign: "center",
        borderRadius: theme.radius.default,
      };
      const autoColumns = {
        background: theme.colors.warning,
        textAlign: "center",
        borderRadius: theme.radius.default,
      };
      return (
        <Grid>
          <Row>
            <Column style={autoColumns}>
              <Text>auto</Text>
            </Column>
            <Column size={8} style={numberedColumns}>
              <Text>7/12</Text>
            </Column>
          </Row>
          <Row>
            <Column size={4} style={numberedColumns}>
              <Text>4/12</Text>
            </Column>
            <Column style={autoColumns}>
              <Text>auto</Text>
            </Column>
            <Column size={2} style={numberedColumns}>
              <Text>2/12</Text>
            </Column>
          </Row>
          <Row>
            <Column size={3} style={numberedColumns}>
              <Text>3/12</Text>
            </Column>
            <Column size={4} style={numberedColumns}>
              <Text>4/12</Text>
            </Column>
            <Column size={5} style={numberedColumns}>
              <Text>5/12</Text>
            </Column>
          </Row>
        </Grid>
      );
    }}
  </Story>
</Preview>

> `Array<{[breakpoint: string]: number}>`

<Preview>
  <Story name="size/breakpoints">
    {() => {
      const breakpointsCols = {
        background: theme.colors.notification,
        textAlign: "center",
        borderRadius: theme.radius.default,
      };
      return (
        <Grid color={theme.colors.white}>
          <Row>
            <Column size={{ sm: 7, lg: 8 }} style={breakpointsCols}>
              <Text>md: 7 • lg: 8</Text>
            </Column>
            <Column size={{ sm: 5, lg: 4 }} style={breakpointsCols}>
              <Text>md: 5 • lg: 4</Text>
            </Column>
          </Row>
          <Row>
            <Column size={{ sm: 3, lg: 2 }} style={breakpointsCols}>
              <Text>sm: 4 • lg: 2</Text>
            </Column>
            <Column size={{ sm: 3, lg: 4 }} style={breakpointsCols}>
              <Text>sm: 4 • lg: 4</Text>
            </Column>
            <Column size={6} style={breakpointsCols}>
              <Text>6</Text>
            </Column>
          </Row>
        </Grid>
      );
    }}
  </Story>
</Preview>

### `PADDING`

- `string`: `xs | sm | md | lg | xl | xxl`
- `number`: parsed to `rem` values
- `Array<number>`: parsed to `rem` values

<Preview>
  <Story name="paddings">
    {() => {
      const withPaddings = {
        background: theme.colors.notification,
        textAlign: "center",
        borderRadius: theme.radius.default,
      };
      return (
        <Grid>
          <Row>
            <Column padding="xs" style={withPaddings}>
              <Text>xs</Text>
            </Column>
            <Column padding="sm" style={withPaddings}>
              <Text>sm</Text>
            </Column>
            <Column padding="md" style={withPaddings}>
              <Text>md</Text>
            </Column>
            <Column padding="lg" style={withPaddings}>
              <Text>lg</Text>
            </Column>
            <Column padding={[1, 0.75, 0.75, 1]} style={withPaddings}>
              <Text>[1rem, 0.75rem, 0.75rem, 1rem]</Text>
            </Column>
          </Row>
        </Grid>
      );
    }}
  </Story>
</Preview>

### `MARGIN`

- `string`: `xs | sm | md | lg | xl | xxl`
- `number`: parsed to `rem` values
- `Array<number>`: parsed to `rem` values

> Margins set as a breakpoints from `theme`.

<Preview>
  <Story name="breakpoints">
    {() => {
      const withMargins = {
        background: theme.colors.notification,
        textAlign: "center",
        borderRadius: theme.radius.default,
      };
      return (
        <Grid>
          <Row>
            <Column margin="xs" style={withMargins}>
              <Text>xs</Text>
            </Column>
            <Column margin="sm" style={withMargins}>
              <Text>sm</Text>
            </Column>
            <Column margin="md" style={withMargins}>
              <Text>md</Text>
            </Column>
            <Column margin="lg" style={withMargins}>
              <Text>lg</Text>
            </Column>
            <Column margin="xl" style={withMargins}>
              <Text>xl</Text>
            </Column>
          </Row>
        </Grid>
      );
    }}
  </Story>
</Preview>

> Margins set as an `array`: `[1, 0.75, 0.75, 1]`.

<Preview>
  <Story name="array">
    {() => {
      const withMargins = {
        background: theme.colors.notification,
        textAlign: "center",
        borderRadius: theme.radius.default,
      };
      return (
        <Grid>
          <Row>
            <Column margin={[1, 0.75, 0.75, 1]} style={withMargins}>
              <Text>Column</Text>
            </Column>
            <Column margin={[1, 0.75, 0.75, 1]} style={withMargins}>
              <Text>Column</Text>
            </Column>
            <Column margin={[1, 0.75, 0.75, 1]} style={withMargins}>
              <Text>Column</Text>
            </Column>
          </Row>
        </Grid>
      );
    }}
  </Story>
</Preview>
